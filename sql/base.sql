CREATE DATABASE `commapeak_db`
USE `commapeak_db`;

CREATE TABLE `calls` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `i_customer_id` int(11) NOT NULL,
  `date_call` datetime NOT NULL,
  `i_duration_sec` int(11) NOT NULL,
  `st_dialed_number` varchar(255) NOT NULL,
  `string_customer_ip` varchar(255) NOT NULL,
  `st_ip_continent` varchar(5) NOT NULL,
  `st_phone_continent` varchar(5) NOT NULL,
  `b_muted` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `i_customer_id` (`i_customer_id`),
  KEY `st_ip_continent` (`st_ip_continent`),
  KEY `st_phone_continent` (`st_phone_continent`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE `phone_to_continent` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `st_phone_prefix` int(11) NOT NULL,
  `st_continent` varchar(5) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `st_phone_prefix` (`st_phone_prefix`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `phone_to_continent` (`id`, `st_phone_prefix`, `st_continent`) VALUES
(1,	123,	'EU'),
(2,	376,	'EU'),
(3,	971,	'AS'),
(4,	93,	'AS'),
(5,	1268,	'NA'),
(6,	1264,	'NA'),
(7,	355,	'EU'),
(8,	374,	'AS'),
(9,	244,	'AF'),
(10,	54,	'SA'),
(11,	1684,	'OC'),
(12,	43,	'EU'),
(13,	61,	'OC'),
(14,	297,	'NA'),
(15,	35818,	'EU'),
(16,	994,	'AS'),
(17,	387,	'EU'),
(18,	1246,	'NA'),
(19,	880,	'AS'),
(20,	32,	'EU'),
(21,	226,	'AF'),
(22,	359,	'EU'),
(23,	973,	'AS'),
(24,	257,	'AF'),
(25,	229,	'AF'),
(26,	590,	'NA'),
(27,	1441,	'NA'),
(28,	673,	'AS'),
(29,	591,	'SA'),
(30,	599,	'NA'),
(31,	55,	'SA'),
(32,	1242,	'NA'),
(33,	975,	'AS'),
(34,	267,	'AF'),
(35,	375,	'EU'),
(36,	501,	'NA'),
(37,	1,	'NA'),
(38,	61,	'AS'),
(39,	243,	'AF'),
(40,	236,	'AF'),
(41,	242,	'AF'),
(42,	41,	'EU'),
(43,	225,	'AF'),
(44,	682,	'OC'),
(45,	56,	'SA'),
(46,	237,	'AF'),
(47,	86,	'AS'),
(48,	57,	'SA'),
(49,	506,	'NA'),
(50,	53,	'NA'),
(51,	238,	'AF'),
(52,	599,	'NA'),
(53,	61,	'OC'),
(54,	357,	'EU'),
(55,	420,	'EU'),
(56,	49,	'EU'),
(57,	253,	'AF'),
(58,	45,	'EU'),
(59,	1767,	'NA'),
(60,	1829,	'NA'),
(61,	1809,	'NA'),
(62,	213,	'AF'),
(63,	593,	'SA'),
(64,	372,	'EU'),
(65,	20,	'AF'),
(66,	212,	'AF'),
(67,	291,	'AF'),
(68,	34,	'EU'),
(69,	251,	'AF'),
(70,	358,	'EU'),
(71,	679,	'OC'),
(72,	500,	'SA'),
(73,	691,	'OC'),
(74,	298,	'EU'),
(75,	33,	'EU'),
(76,	241,	'AF'),
(77,	44,	'EU'),
(78,	1473,	'NA'),
(79,	995,	'AS'),
(80,	594,	'SA'),
(81,	441481,	'EU'),
(82,	233,	'AF'),
(83,	350,	'EU'),
(84,	299,	'NA'),
(85,	220,	'AF'),
(86,	224,	'AF'),
(87,	590,	'NA'),
(88,	240,	'AF'),
(89,	30,	'EU'),
(90,	502,	'NA'),
(91,	1671,	'OC'),
(92,	245,	'AF'),
(93,	592,	'SA'),
(94,	852,	'AS'),
(95,	0,	'AN'),
(96,	504,	'NA'),
(97,	385,	'EU'),
(98,	509,	'NA'),
(99,	36,	'EU'),
(100,	62,	'AS'),
(101,	353,	'EU'),
(102,	972,	'AS'),
(103,	441624,	'EU'),
(104,	91,	'AS'),
(105,	246,	'AS'),
(106,	964,	'AS'),
(107,	98,	'AS'),
(108,	354,	'EU'),
(109,	39,	'EU'),
(110,	441534,	'EU'),
(111,	1876,	'NA'),
(112,	962,	'AS'),
(113,	81,	'AS'),
(114,	254,	'AF'),
(115,	996,	'AS'),
(116,	855,	'AS'),
(117,	686,	'OC'),
(118,	269,	'AF'),
(119,	1869,	'NA'),
(120,	850,	'AS'),
(121,	82,	'AS'),
(122,	965,	'AS'),
(123,	1345,	'NA'),
(124,	7,	'AS'),
(125,	856,	'AS'),
(126,	961,	'AS'),
(127,	1758,	'NA'),
(128,	423,	'EU'),
(129,	94,	'AS'),
(130,	231,	'AF'),
(131,	266,	'AF'),
(132,	370,	'EU'),
(133,	352,	'EU'),
(134,	371,	'EU'),
(135,	218,	'AF'),
(136,	212,	'AF'),
(137,	377,	'EU'),
(138,	373,	'EU'),
(139,	382,	'EU'),
(140,	590,	'NA'),
(141,	261,	'AF'),
(142,	692,	'OC'),
(143,	389,	'EU'),
(144,	223,	'AF'),
(145,	95,	'AS'),
(146,	976,	'AS'),
(147,	853,	'AS'),
(148,	1670,	'OC'),
(149,	596,	'NA'),
(150,	222,	'AF'),
(151,	1664,	'NA'),
(152,	356,	'EU'),
(153,	230,	'AF'),
(154,	960,	'AS'),
(155,	265,	'AF'),
(156,	52,	'NA'),
(157,	60,	'AS'),
(158,	258,	'AF'),
(159,	264,	'AF'),
(160,	687,	'OC'),
(161,	227,	'AF'),
(162,	672,	'OC'),
(163,	234,	'AF'),
(164,	505,	'NA'),
(165,	31,	'EU'),
(166,	47,	'EU'),
(167,	977,	'AS'),
(168,	674,	'OC'),
(169,	683,	'OC'),
(170,	64,	'OC'),
(171,	968,	'AS'),
(172,	507,	'NA'),
(173,	51,	'SA'),
(174,	689,	'OC'),
(175,	675,	'OC'),
(176,	63,	'AS'),
(177,	92,	'AS'),
(178,	48,	'EU'),
(179,	508,	'NA'),
(180,	870,	'OC'),
(181,	1787,	'NA'),
(182,	1939,	'NA'),
(183,	970,	'AS'),
(184,	351,	'EU'),
(185,	680,	'OC'),
(186,	595,	'SA'),
(187,	974,	'AS'),
(188,	262,	'AF'),
(189,	40,	'EU'),
(190,	381,	'EU'),
(191,	7,	'EU'),
(192,	250,	'AF'),
(193,	966,	'AS'),
(194,	677,	'OC'),
(195,	248,	'AF'),
(196,	249,	'AF'),
(197,	211,	'AF'),
(198,	46,	'EU'),
(199,	65,	'AS'),
(200,	290,	'AF'),
(201,	386,	'EU'),
(202,	47,	'EU'),
(203,	421,	'EU'),
(204,	232,	'AF'),
(205,	378,	'EU'),
(206,	221,	'AF'),
(207,	252,	'AF'),
(208,	597,	'SA'),
(209,	239,	'AF'),
(210,	503,	'NA'),
(211,	599,	'NA'),
(212,	963,	'AS'),
(213,	268,	'AF'),
(214,	1649,	'NA'),
(215,	235,	'AF'),
(216,	228,	'AF'),
(217,	66,	'AS'),
(218,	992,	'AS'),
(219,	690,	'OC'),
(220,	670,	'OC'),
(221,	993,	'AS'),
(222,	216,	'AF'),
(223,	676,	'OC'),
(224,	90,	'AS'),
(225,	1868,	'NA'),
(226,	688,	'OC'),
(227,	886,	'AS'),
(228,	255,	'AF'),
(229,	380,	'EU'),
(230,	256,	'AF'),
(231,	1,	'OC'),
(232,	1,	'NA'),
(233,	598,	'SA'),
(234,	998,	'AS'),
(235,	379,	'EU'),
(236,	1784,	'NA'),
(237,	58,	'SA'),
(238,	1284,	'NA'),
(239,	1340,	'NA'),
(240,	84,	'AS'),
(241,	678,	'OC'),
(242,	681,	'OC'),
(243,	685,	'OC'),
(244,	967,	'AS'),
(245,	262,	'AF'),
(246,	27,	'AF'),
(247,	260,	'AF'),
(248,	263,	'AF'),
(249,	381,	'EU'),
(250,	599,	'NA');
